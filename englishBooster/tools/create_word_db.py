import requests
import json

with open('../secret_oxford.json') as f:
    youglish_secret = json.load(f)
    api_key = youglish_secret["key"]

words = """
fiscal
render
stem
whereby
nest
rebel
imagery
prosecution
counselor
divert
incarcerate
flee
roster
magnitude
sacrifice
ballot
halt
evoke
rod
trustee
supposedly
heritage
lawsuit
disruption
compliance
revenge
dedication
remedy
comply
disposal
essence
columnist
fundraising
miracle
feat
endless
dam
crush
surrender
reign
settlement
duo
conceive
peculiar
legitimate
squad
align
governance
liberty
dumb
aspire
riot
spare
inherent
prosperity
scrutiny
timber
irony
misery
kidney
imminent
vessel
nationwide
slam
gravity
seal
adjacent
peasant
copper
embed
compelling
induce
attain
saint
horn
commodity
intact
mainland
rage
deputy
consecutive
preside
surge
adhere
flesh
spouse
outlet
tribal
thrilled
revive
reluctant
weaken
explicitly
endure
humanitarian
glimpse
descend
unveil
obsess
devise
tenant
surplus
weave
undoubtedly
firearm
creep
scattered
stimulus
discharge
constitution
bureaucracy
concession
superb
utterly
yell
peak
tribute
backdrop
seemingly
encouraging
correspond
toll
beneath
inhibit
assault
diagnose
influential
insult
flourish
terrain
viable
glorious
fate
mere
successor
hostile
accusation
fade
prevail
enforce
likelihood
clash
parental
absence
originate
guerrilla
await
concede
eligible
cattle
overlook
allege
burial
electoral
provincial
detain
atrocity
loom
inclined
restoration
commence
assemble
endorse
glance
thoughtful
detention
intake
spectacle
readily
interim
gear
contention
overturn
memorial
constitute
beast
suppress
intent
inequality
warfare
disastrous
contend
diminish
vow
distinctive
favorable
contemplate
stark
drain
beverage
reassure
acute
felony
alike
subsidy
coup
vicious
breed
vague
dip
vice
halfway
predecessor
prescribe
bare
dispute
acquisition
embark
denounce
tolerate
prey
mainstream
rebellion
leap
refusal
confer
wit
linger
presumably
withdrawal
glory
compel
casualty
abuse
grind
bizarre
wipe
assert
amendment
amend
allegation
assembly
ash
dispose
condemn
civic
wholly
abolish
appealing
literacy
prosecute
betray
nursery
smash
cling
bat
regain
supreme
burden
rookie
opt
empower
designate
cease
absurd
deprive
disclosure
grid
substitution
rental
rehabilitation
simultaneously
foster
shed
medieval
conviction
superintendent
"""

filename = "youtube_words_base_2.txt"

list_words = words.strip().split('\n')

with open(filename, "w") as f:
    f.write('')

for w in list_words:
    print(w)
    url = f'https://youglish.com/api/v1/videos/search?key={api_key}&query={w}&lg=english&accent=au'
    r = requests.get(url)
    my_json = r.json()
    new_my_json = {}
    new_my_json["word"]=w
    new_my_json.update(my_json)

    with open(filename, "a") as f:
        f.write(json.dumps(new_my_json)+'\n')




